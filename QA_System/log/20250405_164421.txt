=== 日志开始于 2025-04-05 16:44:21 ===
[2025-04-05 16:44:21] [INFO] 日志级别设置为: DEBUG
[2025-04-05 16:44:21] [INFO] 已启用详细日志模式
[2025-04-05 16:44:25] [INFO] 配置文件路径: config.yaml
[2025-04-05 16:44:25] [DEBUG] 完整配置: {'system': {'log_level': 'INFO', 'device': 'cuda', 'seed': 42}, 'data': {'input_file': './data/original_data/', 'model_output_dir': './model/pkl/', 'data_output_dir': './data/processed_data/', 'val_path': './data/original_data/val.jsonl'}, 'paths': {'data_root': './data/data', 'model_root': './models/', 'cache_dir': './cache/', 'log_dir': './logs/'}, 'modules': {'active': {'retrieval': 'hybrid', 'generator': 'qwen', 'evaluator': 'eval.metrics_calculation', 'ui': 'webui', 'process': 'process.process'}}, 'retrieval': {'top_k': 5, 'use_plain_text': True, 'max_words': 10, 'text_retrieval': {'method': 'hybrid', 'hybrid_alpha': 0.7}, 'deep_retrieval': {'model': 'bert-base-uncased', 'pooling': 'mean'}, 'hybrid': {'weights': {'bm25': 0.4, 'dpr': 0.6}, 'fusion_method': 'weighted_sum'}}, 'generation': {'qwen': {'model_path': 'Qwen/Qwen2.5-7B-Instruct', 'api_mode': True, 'system_prompt': 'Answer the question based on the context below. \nKeep the answer concise and factual.\n'}}, 'webui': {'port': 8080, 'presentation': True}, 'evaluation': {'default_method': 'text', 'auto_select': False, 'metrics': {'calculate': True, 'types': ['precision', 'recall', 'mrr']}, 'output': {'text': './data/evaluation/text_evaluation_results.jsonl', 'deep_embedding': './data/evaluation/deep_embedding_evaluation_results.jsonl', 'hybrid': './data/evaluation/hybrid_evaluation_results.jsonl'}}, 'debug': {'train_mode': False, 'evaluate_mode': False, 'process_mode': True}}
[2025-04-05 16:44:25] [INFO] 运行模式: process_mode=True, evaluate_mode=False, train_mode=False
[2025-04-05 16:44:25] [INFO] 启动处理模式...
[2025-04-05 16:44:25] [INFO] 输入文件路径: C:\course\Nature Language Process COMP5412\project\QA_System\data\original_data\documents.jsonl
[2025-04-05 16:44:25] [INFO] 模型输出目录: C:\course\Nature Language Process COMP5412\project\QA_System\model\pkl
[2025-04-05 16:44:25] [INFO] 数据输出目录: C:\course\Nature Language Process COMP5412\project\QA_System\data\processed_data
[2025-04-05 16:44:26] [INFO] 开始处理文档，共 12138 行...
[2025-04-05 16:54:40] [INFO] 正在保存处理后的纯文本数据到 C:\course\Nature Language Process COMP5412\project\QA_System\data\processed_dataprocessed_plain.jsonl...
[2025-04-05 16:54:41] [INFO] 正在保存处理后的markdown数据到 C:\course\Nature Language Process COMP5412\project\QA_System\data\processed_dataprocessed_markdown.jsonl...
[2025-04-05 16:54:41] [INFO] 纯文本数据已保存到 C:\course\Nature Language Process COMP5412\project\QA_System\data\processed_dataprocessed_plain.jsonl
[2025-04-05 16:54:41] [INFO] Markdown数据已保存到 C:\course\Nature Language Process COMP5412\project\QA_System\data\processed_dataprocessed_markdown.jsonl
[2025-04-05 16:54:41] [INFO] 开始为纯文本构建模型...
[2025-04-05 16:54:41] [INFO] 开始计算TF-IDF模型...
[2025-04-05 16:56:14] [INFO] TF-IDF模型计算完成
[2025-04-05 16:56:14] [INFO] 开始计算BM25模型...
[2025-04-05 16:57:42] [INFO] 构建BM25索引中...
[2025-04-05 16:57:46] [INFO] BM25索引构建完成
[2025-04-05 16:57:46] [INFO] 正在保存TF-IDF模型到 C:\course\Nature Language Process COMP5412\project\QA_System\model\pklplain_tfidf.pkl...
[2025-04-05 16:57:46] [INFO] TF-IDF模型已保存
[2025-04-05 16:57:46] [INFO] 正在保存BM25模型到 C:\course\Nature Language Process COMP5412\project\QA_System\model\pklplain_bm25.pkl...
[2025-04-05 16:57:48] [INFO] BM25模型已保存
[2025-04-05 16:57:48] [INFO] 开始为markdown构建模型...
[2025-04-05 16:57:48] [INFO] 开始计算TF-IDF模型...
[2025-04-05 16:58:08] [INFO] TF-IDF模型计算完成
[2025-04-05 16:58:08] [INFO] 开始计算BM25模型...
[2025-04-05 16:58:26] [INFO] 构建BM25索引中...
[2025-04-05 16:58:27] [INFO] BM25索引构建完成
[2025-04-05 16:58:27] [INFO] 正在保存TF-IDF模型到 C:\course\Nature Language Process COMP5412\project\QA_System\model\pklmarkdown_tfidf.pkl...
[2025-04-05 16:58:27] [INFO] TF-IDF模型已保存
[2025-04-05 16:58:27] [INFO] 正在保存BM25模型到 C:\course\Nature Language Process COMP5412\project\QA_System\model\pklmarkdown_bm25.pkl...
[2025-04-05 16:58:28] [INFO] BM25模型已保存
[2025-04-05 16:58:28] [INFO] 所有模型已成功构建并保存
